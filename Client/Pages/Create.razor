@page "/create"
@inject Services.IPostService PostService

<h3>Create New Post</h3>
<EditForm Model="@newPost" OnValidSubmit="CreateNewPost">
    <div class="form-group">
        <label for="url">Url</label>
        <InputText class="form-control" id="url"  @bind-Value="newPost.Url" />
    </div>
    <div class="form-group">
        <label for="title">Title</label>
        <InputText class="form-control" id="title"  @bind-Value="newPost.Title" />
    </div>
    <div class="form-group">
        <label for="description">Description</label>
        <InputText class="form-control" id="description"  @bind-Value="newPost.Description" />
    </div>
    <div class="form-group">
        <label for="content">Content</label>
        <InputTextArea class="form-control" id="content"  @bind-Value="newPost.Content" />
    </div>
    <div class="form-group">
        <label for="date">Date</label>
        <InputDate class="form-control" id="date"  @bind-Value="newPost.Created" />
    </div>
    <div class="form-check">
        <label for="isPublished">Published</label>
        <InputCheckbox class="form-check-input" id="isPublished"  @bind-Value="newPost.IsPublished" />
    </div>
    <button type="submit" class="btn btn-primary">Create</button>
</EditForm>


@code {
    private BlazorBlog.Shared.Models.Post newPost = new BlazorBlog.Shared.Models.Post();

    void CreateNewPost()
    {
        newPost.Edited = DateTime.Now;
        PostService.CreateNewPost(newPost);
    }
}