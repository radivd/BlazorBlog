@using BlazorBlog.Shared
@using BlazorBlog.Shared.Models;
@inject BlazorBlog.Client.Services.IPostService PostService

@if (_posts.Count == 0)
{
    <p>Getting posts...</p>
}
else
{
    @foreach (var post in _posts)
    {
        <div style="margin: 20px;">
            <div>
                <h3>@post.Title</h3>
            </div>
            <div>
                <h5>@post.Description</h5>
            </div>
            <div>
                <a href="/@post.Url">Read More...</a>
            </div>
        </div>
    }
}

@code {
    private List<Post> _posts = new List<Post>();

    protected override async Task OnInitializedAsync()
    {
        _posts = await PostService.GetAllPosts();
    }
}